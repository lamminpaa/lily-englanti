<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Englantipeli - Opi englantia hauskasti!</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="game-container">
        <header>
            <h1>ğŸ® Englantipeli ğŸ®</h1>
            <div class="score-board">
                <span class="score">Pisteet: <span id="score">0</span></span>
                <span class="streak">Putki: <span id="streak">0</span></span>
            </div>
        </header>

        <div id="menu-screen" class="screen active">
            <h2>Valitse aihe</h2>
            <div class="topic-grid">
                <button class="topic-btn" data-topic="animals">ğŸ¾ ElÃ¤imet</button>
                <button class="topic-btn" data-topic="colors">ğŸ¨ VÃ¤rit</button>
                <button class="topic-btn" data-topic="numbers">ğŸ”¢ Numerot</button>
                <button class="topic-btn" data-topic="food">ğŸ Ruoka</button>
                <button class="topic-btn" data-topic="family">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Perhe</button>
                <button class="topic-btn" data-topic="school">ğŸ“š Koulu</button>
                <button class="topic-btn" data-topic="body">ğŸ‘¤ Keho</button>
                <button class="topic-btn" data-topic="clothes">ğŸ‘• Vaatteet</button>
            </div>
        </div>

        <div id="mode-screen" class="screen">
            <h2>Miten haluat oppia?</h2>
            <div class="game-modes">
                <div class="mode-card learn-card">
                    <div class="mode-icon">ğŸ“š</div>
                    <h3>Opettele uudet sanat</h3>
                    <p>Opi sanat ensin rauhassa. Kuulet Ã¤Ã¤ntÃ¤misen ja nÃ¤et kirjoitusasun.</p>
                    <div class="features">
                        <span class="feature">ğŸ”Š Ã„Ã¤ntÃ¤minen</span>
                        <span class="feature">ğŸ‘ï¸ Visuaalinen oppiminen</span>
                        <span class="feature">â° Oma tahti</span>
                    </div>
                    <button class="mode-btn primary-btn" data-gamemode="learn">
                        Aloita oppiminen
                    </button>
                </div>
                <div class="mode-card practice-card">
                    <div class="mode-icon">âœï¸</div>
                    <h3>Kirjoitusharjoitus</h3>
                    <p>Kirjoita oikea englanninkielinen sana nÃ¤kemÃ¤si kuvan perusteella.</p>
                    <div class="features">
                        <span class="feature">âŒ¨ï¸ Kirjoita sana</span>
                        <span class="feature">ğŸ¤ Puheentunnistus</span>
                        <span class="feature">ğŸ“ˆ Seuraa edistymistÃ¤</span>
                    </div>
                    <button class="mode-btn secondary-btn" data-gamemode="practice">
                        Aloita harjoittelu
                    </button>
                </div>
                <div class="mode-card choice-card">
                    <div class="mode-icon">ğŸ¯</div>
                    <h3>Monivalinta</h3>
                    <p>Valitse oikea englanninkielinen sana neljÃ¤stÃ¤ vaihtoehdosta.</p>
                    <div class="features">
                        <span class="feature">ğŸ² 4 vaihtoehtoa</span>
                        <span class="feature">âš¡ Nopea peli</span>
                        <span class="feature">ğŸ† Hauskaa kilpailua</span>
                    </div>
                    <button class="mode-btn third-btn" data-gamemode="choice">
                        Aloita testi
                    </button>
                </div>
                <div class="mode-card listen-card">
                    <div class="mode-icon">ğŸ‘‚</div>
                    <h3>Kuunteluharjoitus</h3>
                    <p>Kuuntele sana ja valitse oikea suomenkielinen kÃ¤Ã¤nnÃ¶s.</p>
                    <div class="features">
                        <span class="feature">ğŸ”Š Kuuntelu</span>
                        <span class="feature">ğŸ‡«ğŸ‡® Suomenkieliset vaihtoehdot</span>
                        <span class="feature">ğŸ‘‚ Ã„Ã¤ntÃ¤misen harjoittelu</span>
                    </div>
                    <button class="mode-btn fourth-btn" data-gamemode="listen">
                        Aloita kuuntelu
                    </button>
                </div>
            </div>
            <div class="progress-info">
                <h4>Edistymisesi: <span id="topic-progress">0</span>%</h4>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="mastery-stats" id="mastery-stats" style="margin-top: 15px;">
                    <div class="mastery-breakdown">
                        <div class="mastery-item">
                            <span class="mastery-icon">ğŸŒŸ</span>
                            <span class="mastery-count" id="mastered-count">0</span>
                            <span class="mastery-label">Mestari</span>
                        </div>
                        <div class="mastery-item">
                            <span class="mastery-icon">ğŸ†</span>
                            <span class="mastery-count" id="expert-count">0</span>
                            <span class="mastery-label">Asiantuntija</span>
                        </div>
                        <div class="mastery-item">
                            <span class="mastery-icon">ğŸ’ª</span>
                            <span class="mastery-count" id="strong-count">0</span>
                            <span class="mastery-label">Vahva</span>
                        </div>
                        <div class="mastery-item">
                            <span class="mastery-icon">ğŸ‘</span>
                            <span class="mastery-count" id="good-count">0</span>
                            <span class="mastery-label">HyvÃ¤</span>
                        </div>
                        <div class="mastery-item">
                            <span class="mastery-icon">ğŸ“š</span>
                            <span class="mastery-count" id="learning-count">0</span>
                            <span class="mastery-label">Oppii</span>
                        </div>
                        <div class="mastery-item">
                            <span class="mastery-icon">ğŸŒ±</span>
                            <span class="mastery-count" id="rookie-count">0</span>
                            <span class="mastery-label">Aloittelija</span>
                        </div>
                    </div>
                </div>
            </div>
            <button class="back-btn" id="back-to-menu">â† Takaisin</button>
        </div>

        <div id="game-screen" class="screen">
            <div class="game-area">
                <div class="word-display">
                    <div class="finnish-word" id="finnish-word"></div>
                    <div class="word-image" id="word-image"></div>
                </div>

                <div id="learn-area" class="input-area" style="display: none;">
                    <div class="learn-content">
                        <div class="pronunciation">
                            <button class="listen-btn" id="listen-word">
                                ğŸ”Š Kuuntele Ã¤Ã¤ntÃ¤minen
                            </button>
                            <div class="phonetic" id="phonetic-text"></div>
                        </div>
                        <div class="word-info">
                            <div class="english-word" id="english-word-display"></div>
                            <div class="learn-tip" id="learn-tip"></div>
                        </div>
                        <button class="got-it-btn" id="got-it">YmmÃ¤rsin! Seuraava sana</button>
                    </div>
                </div>

                <div id="practice-area" class="input-area" style="display: none;">
                    <div class="practice-mode-selector">
                        <button class="mode-toggle active" id="write-toggle">âœï¸ Kirjoita</button>
                        <button class="mode-toggle" id="speak-toggle">ğŸ¤ Puhu</button>
                    </div>
                    
                    <div id="write-practice" class="practice-method">
                        <input type="text" id="answer-input" placeholder="Kirjoita sana englanniksi">
                        <button class="submit-btn" id="submit-answer">Tarkista</button>
                    </div>
                    
                    <div id="speak-practice" class="practice-method" style="display: none;">
                        <div class="microphone-visual" id="microphone-visual" style="display: none;">
                            <div class="microphone-icon" id="microphone-icon">ğŸ¤</div>
                            <div class="volume-bars" id="volume-bars">
                                <div class="volume-bar"></div>
                                <div class="volume-bar"></div>
                                <div class="volume-bar"></div>
                                <div class="volume-bar"></div>
                                <div class="volume-bar"></div>
                                <div class="volume-bar"></div>
                                <div class="volume-bar"></div>
                            </div>
                        </div>
                        <button class="speak-btn" id="start-speaking">
                            ğŸ¤ Paina ja sano sana englanniksi
                        </button>
                        <div class="speech-tip" id="speech-tip" style="display: none;">
                            ğŸ’¡ Vinkki: Sano sana selkeÃ¤sti ja rauhallisesti mikrofoniin
                        </div>
                        <div class="speech-feedback" id="speech-feedback"></div>
                    </div>
                </div>

                <div id="choice-area" class="input-area" style="display: none;">
                    <div class="choices" id="choices">
                        <button class="choice-btn" data-choice="0"></button>
                        <button class="choice-btn" data-choice="1"></button>
                        <button class="choice-btn" data-choice="2"></button>
                        <button class="choice-btn" data-choice="3"></button>
                    </div>
                </div>

                <div id="listen-area" class="input-area" style="display: none;">
                    <div class="listen-controls">
                        <button class="listen-word-btn" id="listen-word-again">
                            ğŸ”Š Kuuntele uudelleen
                        </button>
                        <div class="listen-hint" id="listen-hint">
                            ğŸ’¡ Kuuntele sana huolellisesti ja valitse oikea suomenkielinen kÃ¤Ã¤nnÃ¶s
                        </div>
                    </div>
                    <div class="choices" id="listen-choices">
                        <button class="choice-btn" data-choice="0"></button>
                        <button class="choice-btn" data-choice="1"></button>
                        <button class="choice-btn" data-choice="2"></button>
                        <button class="choice-btn" data-choice="3"></button>
                    </div>
                </div>

                <div class="feedback" id="feedback"></div>
                <button class="next-btn" id="next-word" style="display: none;">Seuraava sana â†’</button>
            </div>
            <button class="back-btn" id="back-to-mode">â† Takaisin</button>
        </div>

        <div id="results-screen" class="screen">
            <h2>Hienoa! ğŸ‰</h2>
            <div class="results">
                <p class="final-score">Sait <span id="final-score">0</span> pistettÃ¤!</p>
                <p class="message" id="result-message"></p>
                <div class="star-rating" id="star-rating"></div>
            </div>
            <button class="play-again-btn" id="play-again">Pelaa uudelleen</button>
            <button class="back-btn" id="back-to-menu-from-results">â† Valikkoon</button>
        </div>
    </div>

    <script src="words.js"></script>
    <script src="progress.js"></script>
    <script src="game.js"></script>
</body>
</html>